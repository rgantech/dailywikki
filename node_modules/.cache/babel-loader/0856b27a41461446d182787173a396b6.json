{"ast":null,"code":"import _regeneratorRuntime from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(fetchArticleSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(SingleArticleSaga);import{call,takeEvery,put}from\"redux-saga/effects\";import Axios from\"axios\";import{fetchArticle,fetchingArticle}from\"../../Store\";import{SingleArticleAction,SingleArticleName}from\"./SingleArticleAction\";var callAPI=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var url,method,data,params;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,data=_ref.data,params=_ref.params;_context.next=3;return Axios({url:url,method:method,data:data,params:params});case 3:return _context.abrupt(\"return\",_context.sent);case 4:case\"end\":return _context.stop();}}},_callee);}));return function callAPI(_x){return _ref2.apply(this,arguments);};}();export function fetchArticleSaga(blogTitle){var result;return _regeneratorRuntime().wrap(function fetchArticleSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(function(){return callAPI({url:\"https://en.wikipedia.org/w/api.php?action=parse&format=json&page=\".concat(blogTitle.payload,\"&prop=text&origin=*&formatversion=2\")});});case 3:result=_context2.sent;_context2.next=6;return put(fetchArticle(result.data));case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.next=12;return put({type:\"TODO_FETCH_FAILED\"});case 12:case\"end\":return _context2.stop();}}},_marked,null,[[0,8]]);}export default function SingleArticleSaga(){return _regeneratorRuntime().wrap(function SingleArticleSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return put(fetchingArticle(true));case 2:_context3.next=4;return takeEvery(\"FETCH_SINGLE_DATA_SAGA\",fetchArticleSaga);case 4:case\"end\":return _context3.stop();}}},_marked2);}","map":{"version":3,"names":["fetchArticleSaga","SingleArticleSaga","call","takeEvery","put","Axios","fetchArticle","fetchingArticle","SingleArticleAction","SingleArticleName","callAPI","url","method","data","params","blogTitle","payload","result","type"],"sources":["/data/Rohit Gautam 450/React/React Projects/p/dailywikki/src/Redux/Features/SingleArticle/SingleArticleSaga.js"],"sourcesContent":["import { call, takeEvery, put } from \"redux-saga/effects\";\nimport Axios from \"axios\";\nimport { fetchArticle, fetchingArticle } from \"../../Store\";\nimport { SingleArticleAction, SingleArticleName } from \"./SingleArticleAction\";\n\n\nlet callAPI = async ({ url, method, data,params }) => {\n  return await Axios({\n    url,\n    method,\n    data,\n    params\n  });\n};\n\nexport function* fetchArticleSaga(blogTitle) {\n  try {\n    let result = yield call(() =>\n      callAPI({ url: `https://en.wikipedia.org/w/api.php?action=parse&format=json&page=${blogTitle.payload}&prop=text&origin=*&formatversion=2`,\n    })\n    );\n    \n    yield put(fetchArticle(result.data));\n  } catch (e) {\n    yield put({ type: \"TODO_FETCH_FAILED\" });\n  }\n}\n\nexport default function* SingleArticleSaga() {\n  yield put(fetchingArticle(true));\n  yield takeEvery(\"FETCH_SINGLE_DATA_SAGA\", fetchArticleSaga);\n  \n}\n"],"mappings":"gWAeiBA,gB,mDAaQC,iB,EA5BzB,OAASC,IAAT,CAAeC,SAAf,CAA0BC,GAA1B,KAAqC,oBAArC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,CAAuBC,eAAvB,KAA8C,aAA9C,CACA,OAASC,mBAAT,CAA8BC,iBAA9B,KAAuD,uBAAvD,CAGA,GAAIC,QAAO,6FAAG,oKAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,IAAtB,MAAsBA,IAAtB,CAA2BC,MAA3B,MAA2BA,MAA3B,uBACCT,MAAK,CAAC,CACjBM,GAAG,CAAHA,GADiB,CAEjBC,MAAM,CAANA,MAFiB,CAGjBC,IAAI,CAAJA,IAHiB,CAIjBC,MAAM,CAANA,MAJiB,CAAD,CADN,6GAAH,kBAAPJ,QAAO,6CAAX,CASA,MAAO,SAAUV,iBAAV,CAA2Be,SAA3B,6KAEU,MAAMb,KAAI,CAAC,iBACtBQ,QAAO,CAAC,CAAEC,GAAG,4EAAsEI,SAAS,CAACC,OAAhF,uCAAL,CAAD,CADe,EAAD,CAAV,CAFV,OAECC,MAFD,iCAOH,MAAMb,IAAG,CAACE,YAAY,CAACW,MAAM,CAACJ,IAAR,CAAb,CAAT,CAPG,4GASH,MAAMT,IAAG,CAAC,CAAEc,IAAI,CAAE,mBAAR,CAAD,CAAT,CATG,qEAaP,cAAe,SAAUjB,kBAAV,mJACb,MAAMG,IAAG,CAACG,eAAe,CAAC,IAAD,CAAhB,CAAT,CADa,wBAEb,MAAMJ,UAAS,CAAC,wBAAD,CAA2BH,gBAA3B,CAAf,CAFa"},"metadata":{},"sourceType":"module"}