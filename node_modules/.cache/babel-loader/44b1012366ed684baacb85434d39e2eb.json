{"ast":null,"code":"import _regeneratorRuntime from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import parse from'html-react-parser';import'./Post.css';import SideNav from'../../Common/SideNav';import axios from'axios';import LoaderCustom from'../LoaderCustom/LoaderCustom';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Post=function Post(props){var _singleData$parse,_singleData$parse2,_Object$values;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),singleData=_useState2[0],setsingleData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setisLoading=_useState4[1];var param=useParams();var blogTitle=param.blog;var singleBlog=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://en.wikipedia.org/w/api.php?action=parse&format=json&page=\".concat(blogTitle,\"&prop=text&origin=*&formatversion=2\");_context.next=3;return axios.get(url).then(function(response){setsingleData(response.data);setisLoading(false);}).catch(function(error){console.log('error');});case 3:case\"end\":return _context.stop();}}},_callee);}));return function singleBlog(){return _ref.apply(this,arguments);};}();useEffect(function(){singleBlog();window.scrollTo(0,0);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading?/*#__PURE__*/_jsx(LoaderCustom,{}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"container marketing\",children:[/*#__PURE__*/_jsx(SideNav,{title:singleData===null||singleData===void 0?void 0:(_singleData$parse=singleData.parse)===null||_singleData$parse===void 0?void 0:_singleData$parse.title,titleforapi:blogTitle}),/*#__PURE__*/_jsx(\"div\",{className:\"row single-top\",children:/*#__PURE__*/_jsx(\"h2\",{children:singleData===null||singleData===void 0?void 0:(_singleData$parse2=singleData.parse)===null||_singleData$parse2===void 0?void 0:_singleData$parse2.title})}),/*#__PURE__*/_jsx(\"hr\",{className:\"featurette-divider top-one\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:singleData&&((_Object$values=Object.values(singleData))===null||_Object$values===void 0?void 0:_Object$values.map(function(data,i){var _data$text;return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:parse(data===null||data===void 0?void 0:(_data$text=data.text)===null||_data$text===void 0?void 0:_data$text.replace(new RegExp('/wiki/',\"g\"),\"\"))},i);}))})]})]});};export default Post;","map":{"version":3,"names":["React","useEffect","useState","parse","SideNav","axios","LoaderCustom","useParams","Post","props","singleData","setsingleData","isLoading","setisLoading","param","blogTitle","blog","singleBlog","url","get","then","response","data","catch","error","console","log","window","scrollTo","title","Object","values","map","i","text","replace","RegExp"],"sources":["/data/Rohit Gautam 450/React/React Projects/p/dailywikki/src/Components/Post/Post.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport parse from 'html-react-parser';\nimport './Post.css'\nimport SideNav from '../../Common/SideNav';\nimport axios from 'axios';\nimport LoaderCustom from '../LoaderCustom/LoaderCustom';\nimport { useParams } from 'react-router-dom';\n\n\nconst Post = (props) => {\n  const [singleData, setsingleData] = useState([])\n  const [isLoading, setisLoading] = useState(true)\n  const param = useParams();\n  const blogTitle = param.blog;\n\n  const singleBlog = async () => {\n    const url = `https://en.wikipedia.org/w/api.php?action=parse&format=json&page=${blogTitle}&prop=text&origin=*&formatversion=2`\n    await axios.get(url)\n      .then((response) => {\n        setsingleData(response.data)\n        setisLoading(false)\n      })\n      .catch((error) => {\n        console.log('error')\n      })\n  }\n\n  useEffect(() => {\n    singleBlog();\n    window.scrollTo(0, 0)\n\n  }, [])\n\n  return (\n    <>\n      {isLoading ? <LoaderCustom /> : null}\n      <div className=\"container marketing\">\n        <SideNav title={singleData?.parse?.title} titleforapi={blogTitle} />\n        <div className='row single-top'>\n          <h2>{singleData?.parse?.title}</h2>\n        </div>\n        <hr className=\"featurette-divider top-one\" />\n        <div className='row'>\n\n          {\n            singleData && Object.values(singleData)?.map(function (data, i) {\n              return (\n                <div className='' key={i}>\n                  {parse(data?.text?.replace(new RegExp('/wiki/', \"g\"), \"\"))}\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Post\n"],"mappings":"0bAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,mBAAlB,CACA,MAAO,YAAP,CACA,MAAOC,QAAP,KAAoB,sBAApB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,aAAP,KAAyB,8BAAzB,CACA,OAASC,SAAT,KAA0B,kBAA1B,C,6IAGA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,yDACtB,cAAoCP,QAAQ,CAAC,EAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,eAAkCT,QAAQ,CAAC,IAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,GAAMC,MAAK,CAAGP,SAAS,EAAvB,CACA,GAAMQ,UAAS,CAAGD,KAAK,CAACE,IAAxB,CAEA,GAAMC,WAAU,4FAAG,6IACXC,GADW,4EAC+DH,SAD/D,8DAEXV,MAAK,CAACc,GAAN,CAAUD,GAAV,EACHE,IADG,CACE,SAACC,QAAD,CAAc,CAClBV,aAAa,CAACU,QAAQ,CAACC,IAAV,CAAb,CACAT,YAAY,CAAC,KAAD,CAAZ,CACD,CAJG,EAKHU,KALG,CAKG,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACD,CAPG,CAFW,uDAAH,kBAAVT,WAAU,0CAAhB,CAYAhB,SAAS,CAAC,UAAM,CACdgB,UAAU,GACVU,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EAED,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACE,2BACGhB,SAAS,cAAG,KAAC,YAAD,IAAH,CAAsB,IADlC,cAEE,aAAK,SAAS,CAAC,qBAAf,wBACE,KAAC,OAAD,EAAS,KAAK,CAAEF,UAAF,SAAEA,UAAF,oCAAEA,UAAU,CAAEP,KAAd,4CAAE,kBAAmB0B,KAAnC,CAA0C,WAAW,CAAEd,SAAvD,EADF,cAEE,YAAK,SAAS,CAAC,gBAAf,uBACE,oBAAKL,UAAL,SAAKA,UAAL,qCAAKA,UAAU,CAAEP,KAAjB,6CAAK,mBAAmB0B,KAAxB,EADF,EAFF,cAKE,WAAI,SAAS,CAAC,4BAAd,EALF,cAME,YAAK,SAAS,CAAC,KAAf,UAGInB,UAAU,mBAAIoB,MAAM,CAACC,MAAP,CAAcrB,UAAd,CAAJ,yCAAI,eAA2BsB,GAA3B,CAA+B,SAAUV,IAAV,CAAgBW,CAAhB,CAAmB,gBAC9D,mBACE,YAAK,SAAS,CAAC,EAAf,UACG9B,KAAK,CAACmB,IAAD,SAACA,IAAD,6BAACA,IAAI,CAAEY,IAAP,qCAAC,WAAYC,OAAZ,CAAoB,GAAIC,OAAJ,CAAW,QAAX,CAAqB,GAArB,CAApB,CAA+C,EAA/C,CAAD,CADR,EAAuBH,CAAvB,CADF,CAKD,CANa,CAAJ,CAHd,EANF,GAFF,GADF,CAwBD,CAhDD,CAkDA,cAAezB,KAAf"},"metadata":{},"sourceType":"module"}