{"ast":null,"code":"import _regeneratorRuntime from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/data/Rohit Gautam 450/React/React Projects/p/dailywikki/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(fetchNewsLatestSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(NewsLatestSaga);import{call,takeEvery,put}from\"redux-saga/effects\";import Axios from\"axios\";import{fetchedNews}from\"../../Store\";import{NewsLatestAction}from\"./NewsLatestAction\";var callAPI=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var url,method,data,params;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,data=_ref.data,params=_ref.params;_context.next=3;return Axios({url:url,method:method,data:data,params:params});case 3:return _context.abrupt(\"return\",_context.sent);case 4:case\"end\":return _context.stop();}}},_callee);}));return function callAPI(_x){return _ref2.apply(this,arguments);};}();export function fetchNewsLatestSaga(blogTitle){var today,month,result;return _regeneratorRuntime().wrap(function fetchNewsLatestSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;today=new Date();month=(\"0\"+Math.floor(today.getMonth()+1)).slice(-2);_context2.next=5;return call(function(){return callAPI({url:\"https://api.wikimedia.org/feed/v1/wikipedia/en/featured/\".concat(today.getFullYear(),\"/\").concat(month,\"/\").concat(Math.floor(today.getDate()))});});case 5:result=_context2.sent;_context2.next=8;return put(fetchedNews(result.data));case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);_context2.next=14;return put({type:\"TODO_FETCH_FAILED\"});case 14:case\"end\":return _context2.stop();}}},_marked,null,[[0,10]]);}export default function NewsLatestSaga(){return _regeneratorRuntime().wrap(function NewsLatestSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return takeEvery(\"FETCH_FEATURED_DATA_SAGA\",fetchNewsLatestSaga);case 2:case\"end\":return _context3.stop();}}},_marked2);}","map":{"version":3,"names":["fetchNewsLatestSaga","NewsLatestSaga","call","takeEvery","put","Axios","fetchedNews","NewsLatestAction","callAPI","url","method","data","params","blogTitle","today","Date","month","Math","floor","getMonth","slice","getFullYear","getDate","result","type"],"sources":["/data/Rohit Gautam 450/React/React Projects/p/dailywikki/src/Redux/Features/NewsLatest/NewsLatestSaga.js"],"sourcesContent":["import { call, takeEvery, put } from \"redux-saga/effects\";\nimport Axios from \"axios\";\nimport { fetchedNews } from \"../../Store\";\nimport { NewsLatestAction } from \"./NewsLatestAction\";\n\n\nlet callAPI = async ({ url, method, data,params }) => {\n  return await Axios({\n    url,\n    method,\n    data,\n    params\n  });\n};\n\nexport function* fetchNewsLatestSaga(blogTitle) {\n  try {\n    const today = new Date();\n    const month = (\"0\" + Math.floor(today.getMonth()+1)).slice(-2) \n    let result = yield call(() =>\n    callAPI({url: `https://api.wikimedia.org/feed/v1/wikipedia/en/featured/${today.getFullYear()}/${month}/${Math.floor(today.getDate())}`})\n    );\n    yield put(fetchedNews(result.data));\n  } catch (e) {\n    yield put({ type: \"TODO_FETCH_FAILED\" });\n  }\n}\n\nexport default function* NewsLatestSaga() {\n  yield takeEvery(\"FETCH_FEATURED_DATA_SAGA\", fetchNewsLatestSaga);\n  \n}\n"],"mappings":"gWAeiBA,mB,mDAaQC,c,EA5BzB,OAASC,IAAT,CAAeC,SAAf,CAA0BC,GAA1B,KAAqC,oBAArC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,gBAAT,KAAiC,oBAAjC,CAGA,GAAIC,QAAO,6FAAG,oKAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,IAAtB,MAAsBA,IAAtB,CAA2BC,MAA3B,MAA2BA,MAA3B,uBACCP,MAAK,CAAC,CACjBI,GAAG,CAAHA,GADiB,CAEjBC,MAAM,CAANA,MAFiB,CAGjBC,IAAI,CAAJA,IAHiB,CAIjBC,MAAM,CAANA,MAJiB,CAAD,CADN,6GAAH,kBAAPJ,QAAO,6CAAX,CASA,MAAO,SAAUR,oBAAV,CAA8Ba,SAA9B,2KAEGC,KAFH,CAEW,GAAIC,KAAJ,EAFX,CAGGC,KAHH,CAGW,CAAC,IAAMC,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACK,QAAN,GAAiB,CAA5B,CAAP,EAAuCC,KAAvC,CAA6C,CAAC,CAA9C,CAHX,kBAIU,MAAMlB,KAAI,CAAC,iBACxBM,QAAO,CAAC,CAACC,GAAG,mEAA6DK,KAAK,CAACO,WAAN,EAA7D,aAAoFL,KAApF,aAA6FC,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACQ,OAAN,EAAX,CAA7F,CAAJ,CAAD,CADiB,EAAD,CAAV,CAJV,OAICC,MAJD,iCAOH,MAAMnB,IAAG,CAACE,WAAW,CAACiB,MAAM,CAACZ,IAAR,CAAZ,CAAT,CAPG,8GASH,MAAMP,IAAG,CAAC,CAAEoB,IAAI,CAAE,mBAAR,CAAD,CAAT,CATG,sEAaP,cAAe,SAAUvB,eAAV,gJACb,MAAME,UAAS,CAAC,0BAAD,CAA6BH,mBAA7B,CAAf,CADa"},"metadata":{},"sourceType":"module"}